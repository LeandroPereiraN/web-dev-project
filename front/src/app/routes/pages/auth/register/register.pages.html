<section class="min-h-[calc(100vh-6rem)] flex items-center justify-center px-4 py-10">
	<p-card styleClass="w-full max-w-4xl">
		<ng-template pTemplate="header">
			<div class="space-y-1">
				<h1 class="text-2xl font-semibold text-slate-900">Crear cuenta</h1>
				<p class="text-sm text-slate-500">Completa tus datos para ofrecer servicios en la plataforma.</p>
			</div>
		</ng-template>

		<form [formGroup]="form" (ngSubmit)="onSubmit()" class="grid grid-cols-1 md:grid-cols-2 gap-6">
			<div class="flex flex-col gap-2">
				<label for="firstName" class="text-sm font-medium text-slate-700">Nombre</label>
				<input pInputText id="firstName" formControlName="firstName" placeholder="Ingresa tu nombre" />
				@if (form.controls.firstName.invalid && form.controls.firstName.touched) {
					<p class="text-sm text-red-500">El nombre es obligatorio.</p>
				}
			</div>

			<div class="flex flex-col gap-2">
				<label for="lastName" class="text-sm font-medium text-slate-700">Apellido</label>
				<input pInputText id="lastName" formControlName="lastName" placeholder="Ingresa tu apellido" />
				@if (form.controls.lastName.invalid && form.controls.lastName.touched) {
					<p class="text-sm text-red-500">El apellido es obligatorio.</p>
				}
			</div>

			<div class="flex flex-col gap-2">
				<label for="email" class="text-sm font-medium text-slate-700">Correo electrónico</label>
				<input pInputText id="email" type="email" formControlName="email" placeholder="correo@dominio.com" />
				@if (form.controls.email.invalid && form.controls.email.touched) {
					<p class="text-sm text-red-500">Ingresa un correo electrónico válido.</p>
				}
			</div>

			<div class="flex flex-col gap-2">
				<label for="phone" class="text-sm font-medium text-slate-700">Teléfono</label>
				<input pInputText id="phone" formControlName="phone" placeholder="Ej: +54 9 11 1234 5678" />
				@if (form.controls.phone.invalid && form.controls.phone.touched) {
					<p class="text-sm text-red-500">El teléfono es obligatorio.</p>
				}
			</div>

			<div class="flex flex-col gap-2">
				<label for="address" class="text-sm font-medium text-slate-700">Dirección</label>
				<input pInputText id="address" formControlName="address" placeholder="Ciudad, Provincia" />
			</div>

			<div class="flex flex-col gap-2">
				<label for="specialty" class="text-sm font-medium text-slate-700">Especialidad</label>
				<input pInputText id="specialty" formControlName="specialty" placeholder="Ej: Electricista" />
			</div>

			<div class="flex flex-col gap-2">
				<label for="yearsExperience" class="text-sm font-medium text-slate-700">Años de experiencia</label>
				<p-inputNumber id="yearsExperience" formControlName="yearsExperience" inputId="yearsExperience" [min]="0" mode="decimal" [step]="1" />
				@if (form.controls.yearsExperience.invalid && form.controls.yearsExperience.touched) {
					<p class="text-sm text-red-500">Ingresa un número válido.</p>
				}
			</div>

			<div class="md:col-span-2 flex flex-col gap-2">
				<label for="professionalDescription" class="text-sm font-medium text-slate-700">Descripción profesional</label>
				<textarea
					id="professionalDescription"
					formControlName="professionalDescription"
					rows="4"
					class="w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm focus:border-green-500 focus:outline-none focus:ring-1 focus:ring-green-500"
					placeholder="Cuéntanos qué servicios ofreces y cómo puedes ayudar a tus clientes"
				></textarea>
			</div>

			<div class="md:col-span-2 flex flex-col gap-2">
				<label for="profilePictureUrl" class="text-sm font-medium text-slate-700">URL de imagen de perfil</label>
				<input pInputText id="profilePictureUrl" formControlName="profilePictureUrl" placeholder="https://" />
			</div>

			<div class="flex flex-col gap-2">
				<label for="password" class="text-sm font-medium text-slate-700">Contraseña</label>
				<p-password
					id="password"
					formControlName="password"
					toggleMask="true"
					[feedback]="true"
					inputStyleClass="w-full"
					inputId="password"
				/>
				@if (form.controls.password.invalid && form.controls.password.touched) {
					<p class="text-sm text-red-500">La contraseña debe tener al menos 8 caracteres.</p>
				}
			</div>

			<div class="flex flex-col gap-2">
				<label for="confirmPassword" class="text-sm font-medium text-slate-700">Confirmar contraseña</label>
				<p-password
					id="confirmPassword"
					formControlName="confirmPassword"
					toggleMask="true"
					[feedback]="false"
					inputStyleClass="w-full"
					inputId="confirmPassword"
				/>
				@if (form.hasError('passwordsNotMatching') && form.controls.confirmPassword.touched) {
					<p class="text-sm text-red-500">Las contraseñas deben coincidir.</p>
				}
			</div>

			<div class="md:col-span-2">
				<button pButton type="submit" [disabled]="submitDisabled()" class="w-full md:w-auto">
					<i class="pi pi-user-plus mr-2" [ngClass]="{ 'pi-spin': loading() }"></i>
					<span>{{ loading() ? 'Creando cuenta...' : 'Registrarme' }}</span>
				</button>
			</div>
		</form>

		<ng-template pTemplate="footer">
			<div class="text-sm text-center text-slate-600">
				¿Ya tienes una cuenta?
				<a routerLink="/login" class="text-green-600 hover:text-green-500 font-medium">Inicia sesión</a>
			</div>
		</ng-template>
	</p-card>
</section>
